<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>EcoPackAI | Secure Access</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --primary-dark: #1a2421; --eco-green: #2ecc71; }
        body { background: var(--primary-dark); height: 100vh; font-family: 'Inter', sans-serif; display: flex; align-items: center; justify-content: center; color: white; margin: 0; }
        .auth-card { background: #24312d; border-radius: 24px; display: flex; width: 1000px; max-width: 95%; overflow: hidden; box-shadow: 0 25px 50px rgba(0,0,0,0.5); border: 1px solid #2f3e39; }
        .auth-brand { background: linear-gradient(135deg, #1e2a26 0%, #0d1a15 100%); padding: 60px; width: 45%; display: flex; flex-direction: column; justify-content: center; text-align: center; }
        .auth-form { padding: 60px; width: 55%; background: #ffffff; color: #1a2421; }
        .form-control { border-radius: 12px; padding: 12px; background: #f9f9f9; border: 1.5px solid #eee; transition: 0.3s; }
        .password-container { position: relative; }
        .toggle-password { position: absolute; right: 15px; top: 50%; transform: translateY(-50%); cursor: pointer; color: #888; z-index: 10; }
        .btn-join { background: var(--primary-dark); color: white; border: none; padding: 14px; border-radius: 12px; width: 100%; font-weight: 600; transition: 0.3s; margin-top: 10px; }
        .btn-join:hover { background: var(--eco-green); transform: translateY(-2px); color: white; }
        .nav-tabs { border: none; margin-bottom: 25px; }
        .nav-link { color: #666; font-weight: 600; border: none !important; cursor: pointer; }
        .nav-link.active { color: var(--eco-green) !important; border-bottom: 3px solid var(--eco-green) !important; background: none !important; }
        .social-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px; }
        .btn-social { border: 1.5px solid #eee; border-radius: 12px; padding: 10px; background: white; font-weight: 500; display: flex; align-items: center; justify-content: center; transition: 0.2s; color: #1a2421; text-decoration: none; }
        .btn-social:hover { background: #f5f5f5; border-color: #ddd; color: #1a2421; }
    </style>
</head>
<body>

<div class="auth-card">
    <div class="auth-brand d-none d-lg-flex">
        <h1 class="fw-bold" style="color: var(--eco-green);">EcoPackAI</h1>
        <p class="text-muted">AI-Powered Sustainability Platform</p>
        <div class="mt-4 text-start d-inline-block w-100 px-4">
            <div class="badge bg-dark p-2 mb-2 text-success border border-success w-100 text-start">✓ Smart Material Ranking</div>
            <div class="badge bg-dark p-2 mb-2 text-warning border border-warning w-100 text-start">✓ Cost & CO2 Analytics</div>
        </div>
    </div>

    <div class="auth-form">
        <ul class="nav nav-tabs" id="authTabs">
            <li class="nav-item"><a class="nav-link active" data-bs-toggle="tab" href="#loginSection">Login</a></li>
            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#signupSection">Create Account</a></li>
        </ul>

        <div class="tab-content">
            <div id="loginSection" class="tab-pane fade show active">
                <div class="social-grid">
                    <a href="/login/google" class="btn-social">
                        <img src="https://img.icons8.com/color/20/000000/google-logo.png" class="me-2" alt="Google"> Google
                    </a>
                    <a href="/login/github" class="btn-social">
                        <img src="https://img.icons8.com/ios-filled/20/000000/github.png" class="me-2" alt="GitHub"> GitHub
                    </a>
                </div>
                <div class="text-center text-muted mb-3 small">OR LOGIN WITH EMAIL</div>
                
                <form action="/login_check" method="POST">
                    <div class="mb-3">
                        <label class="small fw-bold">Email Address</label>
                        <input type="email" name="email" class="form-control" placeholder="your@email.com" required>
                    </div>
                    <div class="mb-3">
                        <div class="d-flex justify-content-between">
                            <label class="small fw-bold">Password</label>
                            <a href="#" class="text-success small text-decoration-none" data-bs-toggle="modal" data-bs-target="#forgotModal">Forgot Password?</a>
                        </div>
                        <div class="password-container">
                            <input type="password" name="password" id="loginPass" class="form-control" placeholder="••••••••" required>
                            <i class="fas fa-eye toggle-password" onclick="togglePass('loginPass', this)"></i>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-join">Sign In</button>
                </form>
            </div>

            <div id="signupSection" class="tab-pane fade">
                <form action="/register" method="POST">
                    <div class="mb-3">
                        <label class="small fw-bold">Full Name</label>
                        <input type="text" name="username" class="form-control" placeholder="Your Name" required>
                    </div>
                    <div class="mb-3">
                        <label class="small fw-bold">Email</label>
                        <input type="email" name="email" class="form-control" placeholder="your@email.com" required>
                    </div>
                    <div class="mb-4">
                        <label class="small fw-bold">Password</label>
                        <div class="password-container">
                            <input type="password" name="password" id="regPass" class="form-control" placeholder="••••••••" required>
                            <i class="fas fa-eye toggle-password" onclick="togglePass('regPass', this)"></i>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-join">Initialize Dashboard</button>
                </form>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    function togglePass(inputId, icon) {
        const input = document.getElementById(inputId);
        if (input.type === "password") {
            input.type = "text";
            icon.classList.replace("fa-eye", "fa-eye-slash");
        } else {
            input.type = "password";
            icon.classList.replace("fa-eye-slash", "fa-eye");
        }
    }
</script>
</body>
</html>